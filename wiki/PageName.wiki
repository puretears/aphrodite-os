#summary One-sentence summary of this page.

= Physical memory of aphrodite os =

The whole physical memory of aphrodite os is divided into three parts:

LOW_MEMORY: 0 - 1MB

CACHE: 1 - 4MB

MAIN MEMORY: 4 - 16MB

Both cache and main memory are managed by paging system. 

We need `15 * 1024 / 4096 = 3840` page tables to cover cache and main memory.

We use a global byte array to represent physical page status.

{{{
unsigned char mem_map[PAGING_PAGES] = {0, };
}}}

0 for idle pages, 100 for used pages.

Given a physical address: addr, we use a function `man_nr` to get `mem_map` index.

{{{
inline unsigned int map_nr(unsigned int addr) {
    return ((addr - LOW_MEMORY) >> 12);
}
}}}